Версия: стабильная с параметрами синта и аудио-буфером

Изменения

Подключение параметров синта
Добавлен отдельный файл synth.params.js с финальными параметрами.
В index.html скрипт подключается до synth.js, чтобы Synth.init() читал настройки из window.SYNTH_PARAMS.

Синтезатор (synth.js)
Код упрощён: все значения берутся из synth.params.js.
Полифония увеличена до 24 голосов для обоих слоёв.
Цепочка обработки обновлена: DC-cut → Compressor → Lowpass → PreDelay (Delay) → Reverb → Limiter.
Хвост даёт реверб (релиз тела укорочен для чистоты).
Добавлен безопасный конструктор узлов (safe()), чтобы не падало при несовпадении с версией Tone.js.

Плеер (player.js)
В планирование нот добавлен буфер времени (AUDIO.BUFFER_SEC = 0.12), чтобы клиент успевал обрабатывать сигнал. Это убрало щелчки.
Сетка обновлена: нота звучит раз в секунду (1000 мс).

Конфиг (config.js)
В AppConfig добавлен блок AUDIO с настройками буфера и контекста (latencyHint, lookAheadSec, updateIntervalSec).
В SYNC изменено GRID_MS: 1000.

CSS (styles.css)
Упрощён стиль активной цифры: теперь она только зелёная, без жирного выделения.

Main (main.js)
Добавлен лёгкий логгер dbg(msg) — выводит ключевые статусы и ошибки в блок #debugInfo.



Проект стабильно запускается после «Старт».
Синтезатор использует актуальные параметры из отдельного файла.
Ноты звучат ровно раз в секунду, с запасом по времени на обработку.
Щелчки устранены (остался редкий единичный лаг раз в несколько минут).
UI стал чище: активные цифры подсвечиваются зелёным.
Легко отслеживать состояние работы через отладочный блок.