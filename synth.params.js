// synth.params.js — профиль параметров для синта
// Загружается ПЕРЕД synth.js. Все ключи соответствуют порядку в synth.commented.js (morph + параллельные FX).
// Все значения можно менять на лету через Synth.setFX({...}); этот файл задаёт только НАЧАЛЬНЫЕ (стартовые) значения.

window.SYNTH_PARAMS = {
  // ==== Баланс и уровни (микширование слоёв/шины) ====
  bodyLevel:   0.50, // Громкость корпуса (после CrossFade). 0..1 — общий фундамент звука
  attackLevel: 0.5, // Громкость FM-атаки (металлический «укус» в начале). 0..1; 0 = выключена по уровню
  busLevel:    0.55, // Уровень суммы перед FX-цепью (до фильтров/реверба/дилея)

  // ==== Корпусный MORPH (две формы волны через CrossFade) ====
  bodyMorph:   0.10,        // 0 = чистый A (sine), 1 = чистый B (sawtooth). 
  bodyA_Osc:  'sine',       // Осциллятор корпуса A: 'sine'|'triangle'|'square'|'sawtooth'|'fatsawtooth'...
  bodyB_Osc:  'sawtooth',        // Осциллятор корпуса B. Советуются пары: sine↔sawtooth, triangle↔square
  bodyEnv: {                // ЕДИНАЯ огибающая корпуса (ADSR) — применяется к обоим корпусам A и B
    attack: 0.060,          // Время атаки (сек). Больше — мягче вход
    decay:  0.30,           // Спад к сустейну (сек)
    sustain:0.20,           // Уровень поддержания (0..1)
    release:4.0,            // Хвост после отпускания ноты (сек)
    attackCurve:  'sine',   // Кривая атаки: 'linear'|'exponential'|'sine'...
    releaseCurve: 'sine'    // Кривая релиза
  },

  // ==== FM-слой (опциональный короткий «щелчок» яркости на атаке) ====
  fmEnable:      true,   // Глобальный флаг: играть FM-атаку 
  fmHarmonicity: 1.7,    // Отношение частот модулятор/носитель. Нецелые → металлический оттенок
  fmModIndex:    4.0,    // Индекс модуляции: глубина яркости. Больше — агрессивнее
  fmEnv: {               // Огибающая ГРОМКОСТИ FM-слоя (короткая вспышка)
    attack: 0.015,
    decay:  0.10,
    sustain:0.05,
    release:0.12,
    attackCurve:  'sine',
    releaseCurve: 'sine'
  },
  fmModEnv: {            // Огибающая МОДУЛЯТОРА (формирует «зерно/металл» во времени)
    attack: 0.015,
    decay:  0.10,
    sustain:0.05,
    release:0.12,
    attackCurve:  'sine',
    releaseCurve: 'sine'
  },

  // ==== Магистраль (последовательная обработка до разветвления) ====
  dcCutHz:     80,    // High-Pass: срез гула/суб-низа и DC. 20–120 Гц обычно
  compThresh:  -30,   // Компрессор: порог (дБ) — чем ниже, тем сильнее клеит
  compRatio:   2.0,   // Компрессор: отношение сжатия. 1.5–3 мягко, 4+ жёстче
  compAttack:  0.03,  // Атака компа (сек). Меньше — быстрее ловит пики
  compRelease: 0.25,  // Релиз компа (сек). Дольше — плавнее восстанавливает
  lowpassFreq: 3300,  // Low-Pass после компа (Гц). Ниже — темнее/мягче

  // ==== Параллельная РЕВЁРБ-ветка (после lowpass) ====
  reverbRoom: 0.78,    // Размер комнаты Freeverb (0..1)
  reverbDamp: 1900,    // Затухание ВЧ хвоста (Гц) — ниже темнит хвост
  reverbWet:  0.18,    // Сколько ревёрба подмешать в микс. 0..1
  revEqLow:   0,       // EQ3: НЧ-полка (дБ). Отрежь низ, если гудит: -6…-12
  revEqMid:   0,       // EQ3: Средние (дБ). -2..+2 для лёгкой коррекции
  revEqHigh:  0,       // EQ3: ВЧ-полка (дБ). Поднять «воздух» +1..+3
  revEqLowFreq:  400,  // Частота НЧ-границы EQ3 (Гц)
  revEqHighFreq: 2500, // Частота ВЧ-границы EQ3 (Гц)

  // ==== Параллельная ДИЛЕЙ-ветка (после lowpass) ====
  delayTime: '4n',  // Время задержки: число (сек) или музыкальная доля ('4n','8n','8t')
  feedback:  0.18,  // Обратная связь. 0.1–0.35 обычно музыкально; >0.5 — эхо уходит в бесконечность
  delayWet:  0.08,  // Сколько дилея подмешать в микс. 0..1

  // ==== Системные лимиты/мастер ====
  bodyPolyMax:   16,   // Максимум одновременно звучащих голосов корпуса (на каждый из A и B)
  attackPolyMax: 16,   // Максимум голосов FM-атаки
  masterDb:      -4    // Общая громкость мастера (дБ) на Tone.Destination
};


